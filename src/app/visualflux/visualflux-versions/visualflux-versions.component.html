<div class="panel panel-primary">
	<div class="panel-heading">
		<h4 class="panel-title">
			Version
			<div class="pull-right">
				<a (click)="refresh()">
							<span class="glyphicon glyphicon-refresh black"></span>
						</a>
				<a (click)="load(); switch()" role="button" data-toggle="collapse" href="#visualfluxVersion" aria-expanded="false" aria-controls="visualfluxVersion">
					<span [className]="SwitchGlyphiconsService.currentGlyphicon"></span>
					
				</a>
			</div>
		</h4>
	</div>
	<div id="visualfluxVersion" class="panel-collapse collapse">
		<div class="panel-body table-responsive">
			<table class="table table-condensed">
				<thead>
					<tr>
						<th class="text-center col-xs-1 displayCol"><div class="displayCell">Serveur</div></th>
						<th *ngIf="visualfluxVersionData?.error" class="text-center col-xs-1 displayCol">
							<div *ngIf="LoadingService.loading; else versionError" class="displayCell">
								Loading....
							</div>
							<ng-template #versionError>
								<div class="displayCell">{{ visualfluxVersionData?.error }}</div>
							</ng-template>
						</th>
						<th *ngFor="let env of visualfluxEnv?.visualFluxInfosData?.visualflux?.environments" class="text-center col-xs-1 displayCol">
							<div *ngIf="LoadingService.loading; else verHead" class="displayCell">
								Loading...
							</div>
							<ng-template #verHead>
								<div *ngFor="let url of visualfluxVersionData?.url?.urlContentsList | version:'visualflux'">
									<div class="displayCell" *ngIf="env.server == url.server"><a href="{{ url.url }}" target="_blank">{{ env.environment }}</a></div>
								</div>
							</ng-template>
						</th>

					</tr>
					<tr>
						<td class="text-center col-xs-1 displayCol"><div class="displayCell">???</div></td>
						<td *ngIf="visualfluxVersionData?.error" class="text-center col-xs-1 displayCol">
							<div *ngIf="LoadingService.loading; else versionError" class="displayCell">
								Loading....
							</div>
							<ng-template #versionError>
								<div class="displayCell">{{ visualfluxVersionData?.error }}</div>
							</ng-template>
						</td>
						<td *ngFor="let url of visualfluxVersionData?.url?.urlContentsList | version:'visualflux'" class="text-center col-xs-1 displayCol">
							<div *ngIf="LoadingService.loading; else verBody" class="displayCell">
								Loading....
							</div>
							<ng-template #verBody>
								<div class="displayCell">{{ url.content | split:'<\/noscript>':1 | split:'<\script':0 | split:' ':0 }}</div>
							</ng-template>
						</td>
					</tr>
				</thead>
			</table>
		</div>
	</div>
</div>